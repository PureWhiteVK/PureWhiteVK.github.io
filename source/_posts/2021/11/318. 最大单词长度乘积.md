---
title: 318. 最大单词长度乘积
mathjax: true
tags:
  - 算法
category: LeetCode刷题记录
abbrlink: d235
date: 2021-11-17
---
# 318. 最大单词长度乘积

给定一个字符串数组 words，找到 length(word[i]) * length(word[j]) 的最大值，并且这两个单词不含有公共字母。你可以认为每个单词只包含小写字母。如果不存在这样的两个单词，返回 0。

> 链接：https://leetcode-cn.com/problems/maximum-product-of-word-lengths

<!-- more -->

## 位运算

看到判断两个只包含26个字母的字符串，下意识想到使用位运算存储每一个字符的使用情况，然后使用与运算，就可以在o(1)时间内判断两个单词是否存在公共字母，之后遍历一遍即可

```java
class Solution {
    public int maxProduct(String[] words) {
        int l = words.length;
        int[] bitmaps = new int[l];
        int res = 0;
        for(int i=0;i<l;++i){
            bitmaps[i] = getBitmap(words[i]);
        }
        for(int i=0;i<l;++i){
            for(int j=i+1;j<l;++j){
                // 无论如何都需要进行两两比较吧
                if((bitmaps[i] & bitmaps[j]) == 0){
                    // 不是重复单词
                    res = Math.max(res,words[i].length()*words[j].length());
                }
            }
        }
        return res;
    }

    private int getBitmap(String word){
        int res = 0;
        for(char ch:word.toCharArray()){
            res |= (1<<(ch-'a'));
        }
        return res;
    }
}
```

一个稍微优化一点的地方在于：对于掩码相同的字符串，我们只需要保存其最大长度即可，这样可以稍微减少一点比较次数，使用Map存储掩码和对应长度即可

