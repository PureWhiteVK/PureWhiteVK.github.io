---
title: 598. 范围求和 II
mathjax: true
tags:
  - 算法
category: LeetCode刷题记录
abbrlink: '3287'
---
# 598. 范围求和 II

给定一个初始元素全部为 0，大小为 m*n 的矩阵 M 以及在 M 上的一系列更新操作。

操作用二维数组表示，其中的每个操作用一个含有两个正整数 a 和 b 的数组表示，含义是将所有符合 0 <= i < a 以及 0 <= j < b 的元素 M[i][j] 的值都增加 1。

在执行给定的一系列操作后，你需要返回矩阵中含有最大整数的元素个数。

> 链接：https://leetcode-cn.com/problems/range-addition-ii

<!-- more -->

## 脑筋急转弯

这个题如果直接模拟，时间复杂度太高，没有必要，我们需要找到其中的规律。

由于每一个操作都会将矩阵左上角小于 (a,b)那一块增加，因此实际上所有操作都是包含重叠部分的，我们只需要遍历一遍增加的范围，求出范围的交集就可以得出最终最大的结果，因为范围交集是一直在增加的，最终的结果一定是最大值

```java
class Solution {
    public int maxCount(int m, int n, int[][] ops) {
        // 模拟的话必超时啊
        // 有没有其他办法？ 
        // 只要求出所有ops中相交的部分即可
        int resR = m,resC = n;
        for(int[] op:ops){
            resR = Math.min(op[0],resR);
            resC = Math.min(op[1],resC);
        }
        return resR * resC;
    }
}
```

